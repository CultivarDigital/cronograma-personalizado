(window.webpackJsonp=window.webpackJsonp||[]).push([[1,18,20,22,27,28,30,34],{716:function(e,t,r){"use strict";r.r(t);r(93),r(4),r(33);var n={props:{value:{type:[String,Object],default:null,required:!0},to:{type:String,default:null}},computed:{species:function(){return this.$store.state.species},link:function(){return this.specie&&this.specie.id?"/ferramentas/catalogo-de-especies/"+this.specie.id:null},specie:function(){var e=this;return this.$store.state.species.find((function(t){return t.id===e.value||t.name===e.value}))||this.value}}},o=r(19),l=r(20),c=r.n(l),m=r(270),d=r(276),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.specie?r("v-chip",{staticClass:"mr-1 mb-1",attrs:{to:e.to||e.link,color:"primary"},on:{click:function(t){return e.$emit("click",e.specie)}}},[e.specie&&e.specie.images?r("v-avatar",{staticClass:"accent white--text",attrs:{left:""}},[r("CachedImage",{attrs:{title:e.specie.name,src:e.specie.images[0],thumb:""}})],1):e._e(),e._v("\n  "+e._s(e.specie.name||e.specie)+"\n")],1):e._e()}),[],!1,null,null,null);t.default=component.exports;c()(component,{CachedImage:r(301).default}),c()(component,{VAvatar:m.a,VChip:d.a})},717:function(e,t,r){"use strict";r.r(t);var n={components:{VueEasyLightbox:r(856).a},props:{images:{type:Array,default:function(){return[]},required:!0},alt:{type:String,default:null},thumb:{type:Boolean,default:!0}},data:function(){return{visible:!1,index:0,apiURL:"https://api.cultivarbrasil.com"}},methods:{showImg:function(e){this.index=e,this.visible=!0},handleHide:function(){this.visible=!1}}},o=r(19),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("div",e._l(e.images,(function(image,i){return r("div",{key:i,staticClass:"mr-1 mb-1 d-inline-block pointer",on:{click:function(){return e.showImg(i)}}},[r("CachedImage",{attrs:{src:image,thumb:e.thumb,size:"42","css-class":"rounded",title:e.alt,raw:""}})],1)})),0),e._v(" "),r("vue-easy-lightbox",{attrs:{visible:e.visible,imgs:e.images.map((function(img){return e.apiURL+img})),index:e.index},on:{hide:e.handleHide}})],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CachedImage:r(301).default})},721:function(e){e.exports=JSON.parse('["Debate","Dúvida","Ideia","Pedido","Reclamação","Sugestão"]')},725:function(e,t,r){"use strict";r.r(t);var n={props:{embeds:{type:Array,default:function(){return[]},required:!0}}},o=r(19),l=r(20),c=r.n(l),m=r(722),d=r(723),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",e._l(e.embeds,(function(embed,i){return r("v-col",{key:i,attrs:{cols:"12",lg:"3",md:"4",sm:"6"}},[r("Embed",{attrs:{embed:embed}})],1)})),1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{Embed:r(734).default}),c()(component,{VCol:m.a,VRow:d.a})},728:function(e,t,r){"use strict";r.r(t);var n=r(30),o=(r(87),r(9),r(4),r(39),r(67),{props:{comment:{type:String,default:null},target:{type:String,default:null},conversation:{type:String,default:null}},data:function(){return{members:[],form:{target:this.target,conversation:this.conversation,message:null,members:[],species:[],images:[],embeds:[]}}},computed:{species:function(){return this.$store.state.species},selectedMembers:function(){var e=this;return this.form.members&&this.form.members.length?this.members.filter((function(t){return e.form.members.includes(t.id)})):[]},selectedSpecies:function(){var e=this;return this.form.species&&this.form.species.length?this.species.filter((function(t){return e.form.species.includes(t.id)})):[]}},methods:{loadMembers:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.members.length){t.next=4;break}return t.next=3,e.$axios.$get("/v1/users/members");case 3:e.members=t.sent;case 4:case"end":return t.stop()}}),t)})))()},addImage:function(image){image&&this.form.images.push(image)},addUrl:function(embed){embed&&this.form.embeds.push(embed)},save:function(){var e=this;this.form.message&&this.$axios.$post("/v1/comments",this.form).then((function(t){e.$notifier.success("Comentário enviado!"),e.$emit("change",t),e.form.message=null,e.form.members=[],e.form.species=[],e.form.images=[],e.form.embeds=[]}))}}}),l=r(19),c=r(20),m=r.n(c),d=r(227),v=r(170),f=r(273),h=r(54),_=r(693),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"comment-form"},[r("v-list-item",{staticClass:"mb-1 pt-1"},[r("v-list-item-avatar",[r("User",{attrs:{thumb:"",size:"40"}})],1),e._v(" "),r("v-list-item-content",[e.$auth.user?r("div",[r("v-textarea",{attrs:{color:"primary",outlined:"",rows:"1","auto-grow":"","hide-details":"",placeholder:e.conversation?"Responder":"Deixe seu comentário"},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1):r("v-btn",{attrs:{block:"",color:"primary",large:""},on:{click:function(t){return e.$store.dispatch("showPortal")}}},[e._v("\n        "+e._s(e.conversation?"Responder":"Deixe seu comentário")+"\n      ")]),e._v(" "),e.$auth.user?r("div",{staticClass:"w-100"},[r("div",[e.form.embeds.length?r("div",{staticClass:"pt-2"},[r("EmbedGallery",{attrs:{embeds:e.form.embeds}})],1):e._e(),e._v(" "),e.form.images.length?r("div",{staticClass:"pt-2"},[r("Gallery",{attrs:{images:e.form.images}})],1):e._e(),e._v(" "),e.form.members.length?r("div",{staticClass:"pt-2"},e._l(e.form.members,(function(t){return r("User",{key:t,staticClass:"mr-1 mb-1",attrs:{user:e.members.find((function(e){return e.id===t})),thumb:"",size:"32","icon-color":"white"}})})),1):e._e(),e._v(" "),e.form.species.length?r("div",{staticClass:"pt-2"},e._l(e.form.species,(function(e){return r("SpecieChip",{key:e,attrs:{value:e}})})),1):e._e(),e._v(" "),r("SelectMembers",{attrs:{items:e.members,"item-value":"id","item-text":"name",title:"Adicionar membros"},on:{change:function(t){return e.loadMembers()}},model:{value:e.form.members,callback:function(t){e.$set(e.form,"members",t)},expression:"form.members"}}),e._v(" "),r("SelectSpecies",{attrs:{items:e.species},model:{value:e.form.species,callback:function(t){e.$set(e.form,"species",t)},expression:"form.species"}}),e._v(" "),r("UploadImage",{attrs:{prefix:"comments"},on:{input:e.addImage}}),e._v(" "),r("EmbedUrl",{attrs:{icon:"mdi-youtube"},on:{input:e.addUrl}}),e._v(" "),r("EmbedUrl",{on:{input:e.addUrl}})],1),e._v(" "),r("div",[r("v-btn",{staticClass:"mt-md-2",attrs:{color:"primary",block:"",large:"",disabled:!e.form.message||!e.form.message},on:{click:e.save}},[e._v("\n            "+e._s(e.conversation?"Enviar resposta":"Enviar comentário")+"\n          ")])],1)]):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{User:r(416).default,EmbedGallery:r(725).default,Gallery:r(717).default,SpecieChip:r(716).default,SelectMembers:r(887).default,SelectSpecies:r(888).default,UploadImage:r(889).default,EmbedUrl:r(890).default}),m()(component,{VBtn:d.a,VListItem:v.a,VListItemAvatar:f.a,VListItemContent:h.b,VTextarea:_.a})},734:function(e,t,r){"use strict";r.r(t);var n={props:{embed:{type:Object,default:function(){return null},required:!0}}},o=r(19),l=r(20),c=r.n(l),m=r(277),d=r(124),v=r(268),f=r(217),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.embed?r("div",["video"===e.embed.type&&e.embed.html?r("div",{staticClass:"mb-3",domProps:{innerHTML:e._s(e.embed.html)}}):r("v-card",{staticClass:"mb-3",attrs:{href:e.embed.url,target:"_blank",outlined:""}},[e.embed.thumbnail_url?r("v-img",{attrs:{src:e.embed.thumbnail_url}}):e._e(),e._v(" "),e.embed.title?r("v-card-title",[e._v(e._s(e.embed.title))]):e._e(),e._v(" "),e.embed.description?r("v-card-subtitle",[e._v("\n      "+e._s(e.embed.description)+"\n    ")]):e._e(),e._v(" "),e.embed.provider_name?r("v-card-text",[r("v-icon",{attrs:{left:"",size:"20"}},[e._v("\n        "+e._s("mdi-"+e.embed.provider_name.toLowerCase())+"\n      ")]),e._v("\n      "+e._s(e.embed.provider_name)+"\n    ")],1):e._e()],1)],1):e._e()}),[],!1,null,null,null);t.default=component.exports;c()(component,{VCard:m.a,VCardSubtitle:d.b,VCardText:d.c,VCardTitle:d.d,VIcon:v.a,VImg:f.a})},887:function(e,t,r){"use strict";r.r(t);r(26),r(304),r(9),r(4),r(39),r(67),r(43);var n=r(721),o={props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemAvatar:{type:String,default:"picture"},itemIcon:{type:String,default:"mdi-account"},icon:{type:String,default:"mdi-account-plus-outline"},title:{type:String,default:"Selecionar"}},data:function(){return{categories:n,dialog:!1,options:[],search:""}},computed:{filteredItems:function(){var e=this,data=[];return this.search&&(data=this.items.filter((function(t){return t[e.itemText].toLowerCase().includes(e.search.toLowerCase())}))),data.slice(0,7)}}},l=r(19),c=r(20),m=r.n(c),d=r(227),v=r(277),f=r(700),h=r(691),_=r(279),k=r(268),y=r(217),x=r(271),C=r(170),V=r(272),I=r(273),$=r(274),S=r(54),w=r(91),E=r(676),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:""},on:{input:function(t){return e.$emit("change")}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",icon:""}},"v-btn",o,!1),n),[r("v-icon",{attrs:{dark:""}},[e._v(e._s(e.icon))])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[r("v-icon",[e._v("mdi-close")])],1),e._v(" "),r("span",[e._v(e._s(e.title))])],1),e._v(" "),r("div",{staticClass:"pt-6 px-3"},[r("v-text-field",{attrs:{autocomplete:"off",name:"name",placeholder:"Buscar",outlined:"","hide-details":"auto","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),e.search?r("v-list",[r("v-list-item-group",{attrs:{multiple:""},on:{change:function(t){return e.$emit("input",e.options)}},model:{value:e.options,callback:function(t){e.options=t},expression:"options"}},[e._l(e.filteredItems,(function(t){return[t?e._e():r("v-divider",{key:"divider-"+t[e.itemValue]}),e._v(" "),r("v-list-item",{key:t[e.itemValue],attrs:{value:t[e.itemValue]},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.active;return[r("v-list-item-avatar",{attrs:{color:"primary"}},[t[e.itemAvatar]?r("v-img",{attrs:{src:t[e.itemAvatar]}}):r("v-icon",{attrs:{dark:""}},[e._v(e._s(e.itemIcon))])],1),e._v(" "),r("v-list-item-title",[e._v(" "+e._s(t[e.itemText])+" ")]),e._v(" "),r("v-list-item-action",[r("v-checkbox",{attrs:{"input-value":o,color:"deep-purple accent-4"}})],1)]}}],null,!0)})]}))],2)],1):r("p",{staticClass:"text-center pt-2"},[r("small",[e._v("Busque pelo nome acima")])]),e._v(" "),e.options.length?r("div",{staticClass:"pa-3"},[r("v-btn",{staticClass:"mb-3",attrs:{block:"",color:"success",large:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n        Concluír\n      ")])],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VBtn:d.a,VCard:v.a,VCheckbox:f.a,VDialog:h.a,VDivider:_.a,VIcon:k.a,VImg:y.a,VList:x.a,VListItem:C.a,VListItemAction:V.a,VListItemAvatar:I.a,VListItemGroup:$.a,VListItemTitle:S.d,VTextField:w.a,VToolbar:E.a})},888:function(e,t,r){"use strict";r.r(t);r(26),r(304),r(9),r(4),r(39),r(67),r(33),r(43);var n=r(721),o={props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}}},data:function(){return{categories:n,dialog:!1,options:[],search:""}},computed:{filteredItems:function(){var e=this,data=this.items;return this.search&&(data=this.items.filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())}))),data.slice(0,7)}}},l=r(19),c=r(20),m=r.n(c),d=r(227),v=r(277),f=r(700),h=r(691),_=r(279),k=r(268),y=r(271),x=r(170),C=r(272),V=r(273),I=r(274),$=r(54),S=r(91),w=r(676),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:""},on:{input:function(t){return e.$emit("change")}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",icon:""}},"v-btn",o,!1),n),[r("v-icon",{attrs:{dark:""}},[e._v("mdi-sprout-outline")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[r("v-icon",[e._v("mdi-close")])],1),e._v(" "),r("span",[e._v("Selecionar espécies")])],1),e._v(" "),r("div",{staticClass:"pt-6 px-3"},[r("v-text-field",{attrs:{autocomplete:"off",name:"name",placeholder:"Buscar espécie",outlined:"","hide-details":"auto","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),r("v-list",[r("v-list-item-group",{attrs:{multiple:""},on:{change:function(t){return e.$emit("input",e.options)}},model:{value:e.options,callback:function(t){e.options=t},expression:"options"}},[e._l(e.filteredItems,(function(t){return[t?e._e():r("v-divider",{key:"divider-"+t.id}),e._v(" "),r("v-list-item",{key:t.id,attrs:{value:t.id},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.active;return[r("v-list-item-avatar",[t.images&&t.images.length?r("CachedImage",{attrs:{title:t.name,src:t.images[0],thumb:""}}):r("v-icon",{attrs:{dark:""}},[e._v("mdi-sprout")])],1),e._v(" "),r("v-list-item-title",[e._v(" "+e._s(t.name)+" ")]),e._v(" "),r("v-list-item-action",[r("v-checkbox",{attrs:{"input-value":o,color:"deep-purple accent-4"}})],1)]}}],null,!0)})]}))],2)],1),e._v(" "),e.options.length?r("div",{staticClass:"pa-3"},[r("v-btn",{staticClass:"mb-3",attrs:{block:"",color:"success",large:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n        Concluír\n      ")])],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{CachedImage:r(301).default}),m()(component,{VBtn:d.a,VCard:v.a,VCheckbox:f.a,VDialog:h.a,VDivider:_.a,VIcon:k.a,VList:y.a,VListItem:x.a,VListItemAction:C.a,VListItemAvatar:V.a,VListItemGroup:I.a,VListItemTitle:$.d,VTextField:S.a,VToolbar:w.a})},889:function(e,t,r){"use strict";r.r(t);r(4),r(57),r(33);var n={props:{value:{type:String,default:function(){return null}},prefix:{type:String,default:function(){return null},required:!0}},data:function(){return{loading:!1}},computed:{inputId:function(){return Math.random().toString(36).substring(2,15)}},methods:{uploadFiles:function(e){var t=this;this.loading=!0;for(var r=e.target.files||e.dataTransfer.files,i=0;i<r.length;i++){var n=r[i],o=new FormData;o.append("file",n,n.name),this.$axios.$post("/v1/uploads/images?prefix="+this.prefix,o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$emit("input",e.url),t.loading=!1})).catch((function(e){t.$notifier.apiError(e),t.loading=!1}))}},upload:function(){this.$refs["upload-image-input-"+this.inputId].click()}}},o=r(19),l=r(20),c=r.n(l),m=r(227),d=r(268),v=r(267),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"mb-6"},[r("v-btn",{attrs:{color:"primary",icon:""},on:{click:e.upload}},[e.loading?r("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"20"}}):r("v-icon",[e._v("mdi-image")])],1),e._v(" "),r("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload-image-input-"+e.inputId,attrs:{accept:"image/*",type:"file"},on:{change:e.uploadFiles}})],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{VBtn:m.a,VIcon:d.a,VProgressCircular:v.a})},890:function(e,t,r){"use strict";r.r(t);r(88);var n={props:{value:{type:String,default:function(){return null}},icon:{type:String,default:function(){return"mdi-link-box-variant-outline"}}},data:function(){return{dialog:!1,loading:!1,oembed:null,url:null}},methods:{finish:function(e){this.oembed&&this.$emit("input",this.oembed),this.oembed=null,this.url=null,this.dialog=!1},loadOEmbed:function(){var e=this;this.url&&this.url.startsWith("http")&&(this.loading=!0,this.$axios.$get("/v1/uploads/oembed?url="+encodeURI(this.url)).then((function(t){e.oembed=t,e.loading=!1})).catch((function(t){e.loading=!1,e.$notifier.firebaseError(t)})))}}},o=r(19),l=r(20),c=r.n(l),m=r(227),d=r(277),v=r(691),f=r(268),h=r(267),_=r(91),k=r(676),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:""},on:{input:function(t){return e.$emit("change")}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",icon:""}},"v-btn",o,!1),n),[r("v-icon",{attrs:{dark:""}},[e._v(e._s(e.icon))])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[r("v-icon",[e._v("mdi-close")])],1),e._v(" "),r("span",[e._v("Adicionar link")])],1),e._v(" "),r("div",{staticClass:"pt-6 px-3"},[r("v-text-field",{attrs:{autocomplete:"off",name:"name",label:"Insira o link",placeholder:"http://",outlined:"","hide-details":"auto","prepend-inner-icon":"mdi-magnify"},on:{change:e.loadOEmbed},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1),e._v(" "),e.loading?r("div",{staticClass:"pa-3 text-center"},[r("v-progress-circular",{attrs:{indeterminate:""}})],1):e.oembed?r("div",{staticClass:"pa-3"},[r("Embed",{attrs:{embed:e.oembed}}),e._v(" "),r("v-btn",{staticClass:"mb-3",attrs:{block:"",color:"success",large:""},on:{click:e.finish}},[e._v("\n        Concluír\n      ")])],1):e.url&&e.url.startsWith("http")?r("div",{staticClass:"pa-3"},[r("v-btn",{staticClass:"mb-3",attrs:{block:"",color:"success",large:""},on:{click:e.loadOEmbed}},[e._v("\n        Buscar\n      ")])],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{Embed:r(734).default}),c()(component,{VBtn:m.a,VCard:d.a,VDialog:v.a,VIcon:f.a,VProgressCircular:h.a,VTextField:_.a,VToolbar:k.a})}}]);