(window.webpackJsonp=window.webpackJsonp||[]).push([[26,17,18,35],{719:function(t,e,o){var content=o(733);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(18).default)("439de470",content,!0,{sourceMap:!1})},727:function(t,e,o){"use strict";o.r(e);o(4),o(56),o(33);var r={props:{value:{type:String,default:function(){return null}},prefix:{type:String,default:function(){return null},required:!0}},data:function(){return{loading:!1}},computed:{inputId:function(){return Math.random().toString(36).substring(2,15)}},methods:{uploadFiles:function(t){var e=this;this.loading=!0;for(var o=t.target.files||t.dataTransfer.files,i=0;i<o.length;i++){var r=o[i],n=new FormData;n.append("file",r,r.name),this.$axios.$post("/v1/uploads/images?prefix="+this.prefix,n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$emit("input",t.url),e.loading=!1})).catch((function(t){e.$notifier.apiError(t),e.loading=!1}))}},upload:function(){this.$refs["upload-image-input-"+this.inputId].click()}}},n=o(20),c=o(19),l=o.n(c),d=o(227),v=o(267),m=o(266),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"mb-6"},[o("v-btn",{attrs:{color:"primary",icon:""},on:{click:t.upload}},[t.loading?o("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"20"}}):o("v-icon",[t._v("mdi-image")])],1),t._v(" "),o("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload-image-input-"+t.inputId,attrs:{accept:"image/*",type:"file"},on:{change:t.uploadFiles}})],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VBtn:d.a,VIcon:v.a,VProgressCircular:m.a})},728:function(t,e,o){"use strict";o.r(e);var r={props:{content:{type:String,default:""}}},n=o(20),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.content?o("div",{staticClass:"tiptap-content mb-3 text-justify",domProps:{innerHTML:t._s(t.content)}}):t._e()}),[],!1,null,null,null);e.default=component.exports},730:function(t){t.exports=JSON.parse('[{"id":"alimentos","title":"Alimentos","description":"Informações mais conectadas ao app. Buscar parceiros que possam trazer dicas úteis de cultivo de alimentos.","color":"#EB5A46"},{"id":"infancia","title":"Infância","description":"Estimular práticas que coloquem as crianças em contato com a natureza e reflitam sobre as necessidades específicas da infância.","color":"#C377E0"},{"id":"boas-praticas","title":"Boas Práticas","description":"Dicas práticas de atitudes mais saudáveis que podem ser incluidas no dia-a-dia das pessoas.","color":"#FF9F1A"},{"id":"parceiros","title":"Parceiros","description":"Posts criados para parceiros e apoiadores do Cultivar","color":"#0079BF"}]')},732:function(t,e,o){"use strict";o(719)},733:function(t,e,o){var r=o(17)(!1);r.push([t.i,".v-btn--absolute.v-btn--bottom,.v-btn--fixed.v-btn--bottom{bottom:70px}.v-item-group.v-bottom-navigation .v-btn{height:inherit!important;background-color:transparent!important;min-width:80px!important}.tiptap-editor .bar{margin-bottom:10px}.tiptap-editor .bar .is-active{border:1px solid}.tiptap-editor .ProseMirror{border:1px solid rgba(0,0,0,.38);border-radius:10px;padding:15px;min-height:130px}.tiptap-editor .ProseMirror.ProseMirror-focused{outline:none;border-color:#009d6b}.tiptap-editor .ProseMirror p.is-editor-empty:first-child:before{content:attr(data-placeholder);float:left;color:rgba(0,0,0,.38);pointer-events:none;height:0}",""]),t.exports=r},740:function(t,e,o){"use strict";o.r(e);var r=o(835),n=o(836),c=o(749),l=o(750),d=o(751),v={components:{EditorContent:r.b},props:{value:{type:String,default:""}},data:function(){return{editor:null,content:null}},computed:{apiURL:function(){return"https://www.cultivarbrasil.com"}},mounted:function(){var t=this;this.content=this.value,this.editor=new r.a({extensions:[n.a,l.a,c.a.configure({placeholder:"Conteúdo do post..."}),d.a.configure({types:["heading","paragraph","image","img"]})],content:this.content,onUpdate:function(){t.$emit("input",t.editor.getHTML())}})},beforeUnmount:function(){this.editor.destroy()},methods:{addImage:function(t){this.editor.chain().focus().setImage({src:this.apiURL+t}).run()}}},m=(o(732),o(20)),f=o(19),h=o.n(f),_=o(227),x=o(267),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tiptap-editor mb-6"},[t.editor?o("div",{staticClass:"bar mb-3"},[o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("bold")},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleBold().run()}}},[o("v-icon",[t._v("mdi-format-bold")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("italic")},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleItalic().run()}}},[o("v-icon",[t._v("mdi-format-italic")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("strike")},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleStrike().run()}}},[o("v-icon",[t._v("mdi-format-strikethrough")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().unsetAllMarks().run()}}},[o("v-icon",[t._v("mdi-format-clear")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("paragraph")},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().setParagraph().run()}}},[o("v-icon",[t._v("mdi-format-paragraph")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("heading",{level:1})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:1}).run()}}},[o("v-icon",[t._v("mdi-format-header-1")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("heading",{level:2})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:2}).run()}}},[o("v-icon",[t._v("mdi-format-header-2")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("heading",{level:3})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:3}).run()}}},[o("v-icon",[t._v("mdi-format-header-3")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("heading",{level:4})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:4}).run()}}},[o("v-icon",[t._v("mdi-format-header-4")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("heading",{level:5})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:5}).run()}}},[o("v-icon",[t._v("mdi-format-header-5")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("heading",{level:6})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:6}).run()}}},[o("v-icon",[t._v("mdi-format-header-6")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("bulletList")},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleBulletList().run()}}},[o("v-icon",[t._v("mdi-format-list-bulleted")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive("orderedList")},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().toggleOrderedList().run()}}},[o("v-icon",[t._v("mdi-format-list-numbered")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive({textAlign:"left"})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().setTextAlign("left").run()}}},[o("v-icon",[t._v("mdi-format-align-left")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive({textAlign:"center"})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().setTextAlign("center").run()}}},[o("v-icon",[t._v("mdi-format-align-center")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive({textAlign:"right"})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().setTextAlign("right").run()}}},[o("v-icon",[t._v("mdi-format-align-right")])],1),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",class:{"is-active":t.editor.isActive({textAlign:"justify"})},attrs:{color:"primary",icon:""},on:{click:function(e){t.editor.chain().focus().setTextAlign("justify").run()}}},[o("v-icon",[t._v("mdi-format-align-justify")])],1),t._v(" "),o("UploadImage",{attrs:{prefix:"comments"},on:{input:t.addImage}}),t._v(" "),o("v-btn",{staticClass:"mr-1 mb-1 rounded",attrs:{color:"primary",text:""},on:{click:function(e){t.editor.chain().focus().setHorizontalRule().run()}}},[t._v("\n      linha\n    ")])],1):t._e(),t._v(" "),o("editor-content",{staticClass:"tiptap-content",attrs:{editor:t.editor}})],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{UploadImage:o(727).default,EditorContent:o(728).default}),h()(component,{VBtn:_.a,VIcon:x.a})},837:function(t,e,o){"use strict";o.r(e);o(8),o(9),o(15),o(16);var r=o(1),n=o(30),c=(o(86),o(4),o(10),o(11),o(26),o(67),o(83)),l=o(843),d=o.n(l),v=o(730);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var f={components:{ValidationObserver:c.a,ValidationProvider:c.b},props:{post:{type:Object,default:function(){return null}}},data:function(){return{categories:v,dialog:!1,tags:[],form:{title:"",description:"",body:"",tags:[],categories:[],published:!1,highlighted:!1,stats:null}}},created:function(){var t=this;this.post&&Object.keys(this.form).forEach((function(e){t.post[e]&&(t.form[e]=t.post[e])})),this.loadTags()},methods:{loadTags:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/v1/posts/tags");case 2:t.tags=e.sent;case 3:case"end":return e.stop()}}),e)})))()},calcStats:function(){this.form.stats=d()(this.form.body)},save:function(){var t=this,form=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.form);this.post?this.$axios.$patch("/v1/posts/"+this.post._id,form).then((function(e){t.$notifier.success("Conversa salva!"),t.$emit("change",e),t.dialog=!1})):this.$axios.$post("/v1/posts",form).then((function(e){t.$notifier.success("Conversa iniciada!"),t.dialog=!1,t.$router.replace("/blog/"+e.slug),t.$emit("change",e)}))}}},h=f,_=o(20),x=o(19),y=o.n(x),k=o(227),C=o(275),O=o(699),A=o(860),$=o(701),w=o(690),j=o(691),P=o(267),S=o(90),V=o(692),E=o(675),component=Object(_.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{fullscreen:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[t.post?o("v-btn",t._g(t._b({attrs:{small:"",fab:"",bottom:"",right:"",fixed:"",dark:"",color:"primary"}},"v-btn",n,!1),r),[o("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1):o("div",{staticClass:"text-center"},[o("v-btn",t._g(t._b({attrs:{fab:"",bottom:"",right:"",fixed:"",color:"green",dark:""}},"v-btn",n,!1),r),[o("v-icon",{attrs:{dark:""}},[t._v("mdi-chat-plus")])],1)],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),o("v-card",[o("v-toolbar",{attrs:{color:"primary",dark:""}},[o("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[o("v-icon",[t._v("mdi-close")])],1),t._v(" "),o("span",[t._v("Nova postagem")])],1),t._v(" "),o("v-container",{staticClass:"pt-6"},[o("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.validate,n=e.invalid;return[o("v-form",{on:{submit:function(e){e.preventDefault(),r().then(t.save)}}},[o("div",{staticClass:"mb-6"},[o("div",{staticClass:"mb-6"},t._l(t.categories,(function(e){return o("v-checkbox",{key:e.title,staticClass:"d-inline-block mr-3 mt-0",attrs:{label:e.title,color:e.color,value:e.title,"hide-details":""},scopedSlots:t._u([{key:"label",fn:function(){return[o("span",{style:"color: "+e.color},[t._v(t._s(e.title))])]},proxy:!0}],null,!0),model:{value:t.form.categories,callback:function(e){t.$set(t.form,"categories",e)},expression:"form.categories"}})})),1),t._v(" "),o("validation-provider",{attrs:{name:"título",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("v-text-field",{attrs:{label:"Título",outlined:"",counter:"","error-messages":r},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})]}}],null,!0)}),t._v(" "),o("validation-provider",{attrs:{name:"Descrição curta",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("v-textarea",{attrs:{label:"Descrição curta",counter:"",outlined:"",rows:2,"error-messages":r},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})]}}],null,!0)}),t._v(" "),o("editor",{on:{input:t.calcStats},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}}),t._v(" "),t.form.stats?o("div",{staticClass:"mb-6 mt-n3 text-right"},[o("small",[o("strong",[t._v(t._s(Math.ceil(t.form.stats.minutes))+" minuto"+t._s(Math.ceil(t.form.stats.minutes)>1?"s":""))]),t._v("\n                de leitura")])]):t._e(),t._v(" "),o("v-combobox",{attrs:{items:t.tags,label:"Palavras chave",outlined:"",multiple:"",chips:"","small-chips":"","deletable-chips":"","hide-details":"auto"},model:{value:t.form.tags,callback:function(e){t.$set(t.form,"tags",e)},expression:"form.tags"}}),t._v(" "),o("div",{staticClass:"mb-3"},[o("v-checkbox",{staticClass:"d-inline-block mr-3",attrs:{label:"Publicado?","hide-details":"auto"},model:{value:t.form.published,callback:function(e){t.$set(t.form,"published",e)},expression:"form.published"}}),t._v(" "),o("v-checkbox",{staticClass:"d-inline-block mr-3",attrs:{label:"Em destaque?","hide-details":"auto"},model:{value:t.form.highlighted,callback:function(e){t.$set(t.form,"highlighted",e)},expression:"form.highlighted"}})],1)],1),t._v(" "),o("div",{staticClass:"text-right"},[o("Save",{attrs:{invalid:n,block:!1,label:t.post?"Salvar postagem":"Publicar postagem"}})],1)])]}}])})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{Editor:o(740).default,Save:o(157).default}),y()(component,{VBtn:k.a,VCard:C.a,VCheckbox:O.a,VCombobox:A.a,VContainer:$.a,VDialog:w.a,VForm:j.a,VIcon:P.a,VTextField:S.a,VTextarea:V.a,VToolbar:E.a})}}]);