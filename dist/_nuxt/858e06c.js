(window.webpackJsonp=window.webpackJsonp||[]).push([[7,11,12,22,23,24,26,38],{1018:function(t,e,r){"use strict";r.r(e);var n={props:{message:{type:String,default:null},to:{type:String,default:null},conversation:{type:String,default:null}},data:function(){return{members:[],form:{to:this.to,message:null,images:[],embeds:[]}}},methods:{addImage:function(image){image&&this.form.images.push(image)},addUrl:function(embed){embed&&this.form.embeds.push(embed)},save:function(){var t=this;this.form.message&&this.$axios.$post("/v1/messages",this.form).then((function(e){t.$notifier.success("Mensagem enviada!"),t.$emit("change",e),t.form.message=null,t.form.images=[],t.form.embeds=[]}))}}},l=r(19),o=r(20),c=r.n(o),d=r(221),f=r(163),m=r(260),v=r(91),h=r(655),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"message-form"},[r("v-list-item",{staticClass:"mb-1 pt-1"},[r("v-list-item-avatar",[r("User",{attrs:{thumb:"",size:"40"}})],1),t._v(" "),r("v-list-item-content",[t.$auth.user?r("div",[r("v-textarea",{attrs:{color:"primary",outlined:"",rows:"1","auto-grow":"","hide-details":"",placeholder:"Digite uma mensagem"},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1):r("v-btn",{staticClass:"darken-1",attrs:{block:"",color:"primary",large:""},on:{click:function(e){return t.$store.dispatch("showPortal")}}},[t._v("\n        Digite uma mensagem\n      ")]),t._v(" "),t.$auth.user?r("div",{staticClass:"w-100"},[r("div",[t.form.embeds.length?r("div",{staticClass:"pt-2"},[r("EmbedGallery",{attrs:{embeds:t.form.embeds}})],1):t._e(),t._v(" "),t.form.images.length?r("div",{staticClass:"pt-2"},[r("Gallery",{attrs:{images:t.form.images}})],1):t._e(),t._v(" "),r("UploadImage",{attrs:{prefix:"messages"},on:{input:t.addImage}}),t._v(" "),r("EmbedUrl",{attrs:{icon:"mdi-youtube"},on:{input:t.addUrl}}),t._v(" "),r("EmbedUrl",{on:{input:t.addUrl}})],1),t._v(" "),r("div",[r("v-btn",{staticClass:"mt-md-2",attrs:{color:"primary",block:"",large:"",disabled:!t.form.message||!t.form.message},on:{click:t.save}},[t._v("\n            Digite uma mensagem\n          ")])],1)]):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{User:r(668).default,EmbedGallery:r(682).default,Gallery:r(681).default,UploadImage:r(417).default,EmbedUrl:r(690).default}),c()(component,{VBtn:d.a,VListItem:f.a,VListItemAvatar:m.a,VListItemContent:v.b,VTextarea:h.a})},666:function(t,e,r){"use strict";r.r(e);var n=r(31),l=(r(88),r(28),r(66),r(4),r(57),r(38),r(43),r(674),r(400),r(82),r(675)),o=r.n(l),c=r(150),d=r.n(c),f={props:{raw:{type:Boolean,default:!1},src:{type:String,default:null,required:null},title:{type:String,default:null},thumb:{type:Boolean,default:!1},size:{type:String,default:null},cssClass:{type:String,default:null},contain:{type:Boolean,default:!1},ignoreCache:{type:Boolean,default:!1}},data:function(){return{url:null}},created:function(){this.load()},methods:{load:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.src){e.next=16;break}if(r=t.src.replace("/images","/thumbs"),!t.thumb){e.next=6;break}return e.next=5,t.loadURL(r);case 5:t.url=e.sent;case 6:if(t.url){e.next=14;break}return e.next=9,t.loadURL(t.src);case 9:if(t.url=e.sent,t.thumb||t.url||!t.$nuxt.isOffline){e.next=14;break}return e.next=13,t.loadURL(r);case 13:t.url=e.sent;case 14:if(t.url){e.next=16;break}return e.abrupt("return",t.src);case 16:case"end":return e.stop()}}),e)})))()},loadURL:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=o.a.MD5(t).toString(),r.next=3,e.getLocalItem(n);case 3:if(!(l=r.sent)||e.ignoreCache){r.next=8;break}return r.abrupt("return",URL.createObjectURL(l));case 8:return r.prev=8,r.next=11,e.cacheUrl(t);case 11:return r.abrupt("return",r.sent);case 14:return r.prev=14,r.t0=r.catch(8),r.abrupt("return",null);case 17:case"end":return r.stop()}}),r,null,[[8,14]])})))()},cacheUrl:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,l,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t,t.startsWith("http")||t.startsWith("/_nuxt/")||(n="https://www.cultivarbrasil.com"+t),r.next=4,d.a.get(n,{responseType:"arraybuffer"});case 4:return l=r.sent,c=new Blob([l.data],{type:"image/jpg"}),f=o.a.MD5(t).toString(),r.next=9,e.setLocalItem(f,c);case 9:return r.abrupt("return",URL.createObjectURL(c));case 10:case"end":return r.stop()}}),r)})))()}}},m=r(19),v=r(20),h=r.n(v),y=r(209),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.raw&&t.url?r("img",{key:t.src,class:t.cssClass,staticStyle:{"max-width":"100%"},attrs:{src:t.url,width:t.size,height:t.size,alt:t.title,title:t.title}}):t.url?r("v-img",{key:t.src,class:t.cssClass,attrs:{src:t.url,width:t.size,height:t.size,alt:t.title,title:t.title,contain:t.contain,fluid:""}}):t._e()}),[],!1,null,null,null);e.default=component.exports;h()(component,{VImg:y.a})},668:function(t,e,r){"use strict";r.r(e);var n={props:{id:{type:String,default:null},user:{type:Object,default:null},size:{type:String,default:null},color:{type:String,default:"primary"},iconColor:{type:String,default:null},thumb:{type:Boolean,default:!1}},data:function(){return{dialog:!1,profile:null}},computed:{sameUser:function(){return this.$auth.user&&this.profile&&this.profile._id&&this.$auth.user.id===this.profile._id}},watch:{"$auth.user":function(){this.setProfile()}},created:function(){this.setProfile()},methods:{setProfile:function(){this.user?this.profile=this.user:this.profile=this.$auth.user},userClicked:function(){console.log(this.profile),this.dialog=!0}}},l=r(19),o=r(20),c=r.n(o),d=r(261),f=r(221),m=r(265),v=r(122),h=r(652),y=r(268),_=r(257),O=r(656),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-inline-block pointer"},[t.profile&&t.profile.picture?r("v-avatar",{attrs:{size:t.size,color:t.color},on:{click:t.userClicked}},[r("CachedImage",{attrs:{avatar:"",title:t.profile.name,alt:t.profile.name,src:t.profile.picture,size:t.size,color:t.color,thumb:t.thumb}})],1):r("v-avatar",{attrs:{color:t.color,size:t.size},on:{click:t.userClicked}},[r("v-icon",{attrs:{color:t.iconColor,size:t.size/2,dark:""}},[t._v(" mdi-account ")])],1),t._v(" "),r("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("div",{staticClass:"text-center pt-6 px-3"},[t.profile&&t.profile.picture?r("v-avatar",{staticClass:"mr-3",attrs:{size:"64"}},[r("CachedImage",{attrs:{avatar:"",title:t.profile.name,alt:t.profile.name,src:t.profile.picture,size:"64",thumb:""}})],1):r("v-avatar",{attrs:{color:"primary",size:"64"}},[r("v-icon",{attrs:{size:"32",dark:""}},[t._v(" mdi-account ")])],1),t._v(" "),r("h5",{staticClass:"text-h5"},[t._v(t._s(t.profile.name))]),t._v(" "),t.profile.region?r("p",{staticClass:"text-subtitle"},[t.profile.city&&t.profile.uf?r("small",[t._v("\n            ("+t._s([t.profile.city,t.profile.uf].join(" - "))+")\n          ")]):t.profile.region?r("small",[t._v("("+t._s(t.profile.region)+")")]):t._e()]):t._e(),t._v(" "),t.profile.bio?r("p",[t._v(t._s(t.profile.bio))]):t._e(),t._v(" "),r("p",[t.sameUser?r("v-btn",{on:{click:function(e){return t.$store.dispatch("showPortal")}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-account-edit")]),t._v(" Editar perfil\n          ")],1):t._e()],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Fechar ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{CachedImage:r(666).default}),c()(component,{VAvatar:d.a,VBtn:f.a,VCard:m.a,VCardActions:v.a,VDialog:h.a,VDivider:y.a,VIcon:_.a,VSpacer:O.a})},676:function(t,e){},680:function(t,e,r){"use strict";r.r(e);var n={props:{embed:{type:Object,default:function(){return null},required:!0}}},l=r(19),o=r(20),c=r.n(o),d=r(265),f=r(122),m=r(257),v=r(209),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.embed?r("div",["video"===t.embed.type&&t.embed.html?r("div",{staticClass:"mb-3",domProps:{innerHTML:t._s(t.embed.html)}}):r("v-card",{staticClass:"mb-3",attrs:{href:t.embed.url,target:"_blank",outlined:""}},[t.embed.thumbnail_url?r("v-img",{attrs:{src:t.embed.thumbnail_url}}):t._e(),t._v(" "),t.embed.title?r("v-card-title",[t._v(t._s(t.embed.title))]):t._e(),t._v(" "),t.embed.description?r("v-card-subtitle",[t._v("\n      "+t._s(t.embed.description)+"\n    ")]):t._e(),t._v(" "),t.embed.provider_name?r("v-card-text",[r("v-icon",{attrs:{left:"",size:"20"}},[t._v("\n        "+t._s("mdi-"+t.embed.provider_name.toLowerCase())+"\n      ")]),t._v("\n      "+t._s(t.embed.provider_name)+"\n    ")],1):t._e()],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports;c()(component,{VCard:d.a,VCardSubtitle:f.b,VCardText:f.c,VCardTitle:f.d,VIcon:m.a,VImg:v.a})},681:function(t,e,r){"use strict";r.r(e);var n={components:{VueEasyLightbox:r(703).a},props:{images:{type:Array,default:function(){return[]},required:!0},alt:{type:String,default:null},thumb:{type:Boolean,default:!0}},data:function(){return{visible:!1,index:0,apiURL:"https://www.cultivarbrasil.com"}},methods:{showImg:function(t){this.index=t,this.visible=!0},handleHide:function(){this.visible=!1}}},l=r(19),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[r("div",t._l(t.images,(function(image,i){return r("div",{key:i,staticClass:"mr-1 mb-1 d-inline-block pointer",on:{click:function(){return t.showImg(i)}}},[r("CachedImage",{attrs:{src:image,thumb:t.thumb,size:"42","css-class":"rounded",title:t.alt,raw:""}})],1)})),0),t._v(" "),r("client-only",[r("vue-easy-lightbox",{attrs:{visible:t.visible,imgs:t.images.map((function(img){return t.apiURL+img})),index:t.index},on:{hide:t.handleHide}})],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CachedImage:r(666).default})},682:function(t,e,r){"use strict";r.r(e);var n={props:{embeds:{type:Array,default:function(){return[]},required:!0}}},l=r(19),o=r(20),c=r.n(o),d=r(697),f=r(698),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",t._l(t.embeds,(function(embed,i){return r("v-col",{key:i,attrs:{cols:"12",lg:"3",md:"4",sm:"6"}},[r("Embed",{attrs:{embed:embed}})],1)})),1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{Embed:r(680).default}),c()(component,{VCol:d.a,VRow:f.a})},690:function(t,e,r){"use strict";r.r(e);r(82);var n={props:{value:{type:String,default:function(){return null}},icon:{type:String,default:function(){return"mdi-link-box-variant-outline"}}},data:function(){return{dialog:!1,loading:!1,oembed:null,url:null}},methods:{finish:function(t){this.oembed&&this.$emit("input",this.oembed),this.oembed=null,this.url=null,this.dialog=!1},loadOEmbed:function(){var t=this;this.url&&this.url.startsWith("http")&&(this.loading=!0,this.$axios.$get("/v1/uploads/oembed?url="+encodeURI(this.url)).then((function(e){t.oembed=e,t.loading=!1})).catch((function(e){t.loading=!1,t.$notifier.firebaseError(e)})))}}},l=r(19),o=r(20),c=r.n(o),d=r(221),f=r(265),m=r(652),v=r(257),h=r(256),y=r(87),_=r(637),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{fullscreen:""},on:{input:function(e){return t.$emit("change")}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,l=e.attrs;return[r("v-btn",t._g(t._b({attrs:{color:"primary",icon:""}},"v-btn",l,!1),n),[r("v-icon",{attrs:{dark:""}},[t._v(t._s(t.icon))])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[r("v-icon",[t._v("mdi-close")])],1),t._v(" "),r("span",[t._v("Adicionar link")])],1),t._v(" "),r("div",{staticClass:"pt-6 px-3"},[r("v-text-field",{attrs:{autocomplete:"off",name:"name",label:"Insira o link",placeholder:"http://",outlined:"","hide-details":"auto","prepend-inner-icon":"mdi-magnify"},on:{change:t.loadOEmbed},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),t._v(" "),t.loading?r("div",{staticClass:"pa-3 text-center"},[r("v-progress-circular",{attrs:{indeterminate:""}})],1):t.oembed?r("div",{staticClass:"pa-3"},[r("Embed",{attrs:{embed:t.oembed}}),t._v(" "),r("v-btn",{staticClass:"mb-3",attrs:{block:"",color:"success",large:""},on:{click:t.finish}},[t._v("\n        Conclu√≠r\n      ")])],1):t.url&&t.url.startsWith("http")?r("div",{staticClass:"pa-3"},[r("v-btn",{staticClass:"mb-3",attrs:{block:"",color:"success",large:""},on:{click:t.loadOEmbed}},[t._v("\n        Buscar\n      ")])],1):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{Embed:r(680).default}),c()(component,{VBtn:d.a,VCard:f.a,VDialog:m.a,VIcon:v.a,VProgressCircular:h.a,VTextField:y.a,VToolbar:_.a})},697:function(t,e,r){"use strict";r(7),r(8),r(15),r(16);var n=r(1),l=(r(4),r(25),r(10),r(28),r(66),r(402),r(38),r(403),r(404),r(405),r(406),r(407),r(408),r(409),r(410),r(411),r(412),r(413),r(414),r(415),r(43),r(36),r(9),r(82),r(401),r(2)),o=r(68),c=r(0);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=["sm","md","lg","xl"],v=m.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),h=m.reduce((function(t,e){return t["offset"+Object(c.x)(e)]={type:[String,Number],default:null},t}),{}),y=m.reduce((function(t,e){return t["order"+Object(c.x)(e)]={type:[String,Number],default:null},t}),{}),_={col:Object.keys(v),offset:Object.keys(h),order:Object.keys(y)};function O(t,e,r){var n=t;if(null!=r&&!1!==r){if(e){var l=e.replace(t,"");n+="-".concat(l)}return"col"!==t||""!==r&&!0!==r?(n+="-".concat(r)).toLowerCase():n.toLowerCase()}}var j=new Map;e.a=l.a.extend({name:"v-col",functional:!0,props:f(f(f(f({cols:{type:[Boolean,String,Number],default:!1}},v),{},{offset:{type:[String,Number],default:null}},h),{},{order:{type:[String,Number],default:null}},y),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var r=e.props,data=e.data,l=e.children,c=(e.parent,"");for(var d in r)c+=String(r[d]);var f=j.get(c);return f||function(){var t,e;for(e in f=[],_)_[e].forEach((function(t){var n=r[t],l=O(e,t,n);l&&f.push(l)}));var l=f.some((function(t){return t.startsWith("col-")}));f.push((t={col:!l||!r.cols},Object(n.a)(t,"col-".concat(r.cols),r.cols),Object(n.a)(t,"offset-".concat(r.offset),r.offset),Object(n.a)(t,"order-".concat(r.order),r.order),Object(n.a)(t,"align-self-".concat(r.alignSelf),r.alignSelf),t)),j.set(c,f)}(),t(r.tag,Object(o.a)(data,{class:f}),l)}})},698:function(t,e,r){"use strict";r(7),r(8),r(15),r(16);var n=r(1),l=(r(4),r(36),r(62),r(30),r(10),r(28),r(66),r(402),r(38),r(403),r(404),r(405),r(406),r(407),r(408),r(409),r(410),r(411),r(412),r(413),r(414),r(415),r(43),r(9),r(401),r(2)),o=r(68),c=r(0);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=["sm","md","lg","xl"],v=["start","end","center"];function h(t,e){return m.reduce((function(r,n){return r[t+Object(c.x)(n)]=e(),r}),{})}var y=function(t){return[].concat(v,["baseline","stretch"]).includes(t)},_=h("align",(function(){return{type:String,default:null,validator:y}})),O=function(t){return[].concat(v,["space-between","space-around"]).includes(t)},j=h("justify",(function(){return{type:String,default:null,validator:O}})),x=function(t){return[].concat(v,["space-between","space-around","stretch"]).includes(t)},w=h("alignContent",(function(){return{type:String,default:null,validator:x}})),C={align:Object.keys(_),justify:Object.keys(j),alignContent:Object.keys(w)},k={align:"align",justify:"justify",alignContent:"align-content"};function S(t,e,r){var n=k[t];if(null!=r){if(e){var l=e.replace(t,"");n+="-".concat(l)}return(n+="-".concat(r)).toLowerCase()}}var V=new Map;e.a=l.a.extend({name:"v-row",functional:!0,props:f(f(f({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:y}},_),{},{justify:{type:String,default:null,validator:O}},j),{},{alignContent:{type:String,default:null,validator:x}},w),render:function(t,e){var r=e.props,data=e.data,l=e.children,c="";for(var d in r)c+=String(r[d]);var f=V.get(c);return f||function(){var t,e;for(e in f=[],C)C[e].forEach((function(t){var n=r[t],l=S(e,t,n);l&&f.push(l)}));f.push((t={"no-gutters":r.noGutters,"row--dense":r.dense},Object(n.a)(t,"align-".concat(r.align),r.align),Object(n.a)(t,"justify-".concat(r.justify),r.justify),Object(n.a)(t,"align-content-".concat(r.alignContent),r.alignContent),t)),V.set(c,f)}(),t(r.tag,Object(o.a)(data,{staticClass:"row",class:f}),l)}})}}]);